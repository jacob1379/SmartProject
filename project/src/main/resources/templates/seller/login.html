<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<title>판매자 로그인</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script th:inline="javascript">
	const msg = /*[[${msg}]]*/
	if(msg!=null)
		alert(msg);
</script>
<script>
	$(document).ready(()=>{
		$("#login").on("click", ()=>{
			// 아이디를 대문자로 변경해서 넘겨야한다
			const $sId = $("#sId").val().toUpperCase();
			const $sPassword = $("#sPassword").val();
			
			const $form = $("<form>").attr("method","post").attr("action","/seller/login").appendTo($("body"));
			$("<input>").attr("type","hidden").attr("name","sId").val($sId).appendTo($form);
			$("<input>").attr("type","hidden").attr("name","sPassword").val($sPassword).appendTo($form);
			$form.submit();
		});
	})
		</script>
<!-- 		
		<script th:inline="javascript">
		$(document).ready(async function () {
			$("#search").on("click", "#sFindId", (e) => {
				e.preventDefault();
				const choice = confirm('아이디 찾기');
				if (choice == false)
					return;
				$.ajax({
					url: "http://localhost:8083/seller/find/id",
					method: "get",
				}).done(() => location.href = '/seller/find') // 
			});
		})
	</script>
	
	<script th:inline="javascript">
		$(document).ready(async function () {
			$("#search").on("click", "#sFindPassword", (e) => {
				e.preventDefault();
				const choice = confirm('비밀번호 찾기');
				if (choice == false)
					return;
				$.ajax({
					url: "http://localhost:8083/seller/stpassword",
					method: "get",
					}).done(() => location.href = '/seller/find')
			});
		})
	</script>
	 -->
	<script>
		$("#login").click(async function(){
					alert('환영합니다!');
					window.location.href = "/seller/home";
		})	
	</script>
</head>
<body>
<div id="page">
	<header id="header" th:replace="/fragments/header">
	</header>
	<nav id="nav" th:replace="/fragments/nav">
	</nav>
	<div id="main">
		<aside id="aside" th:replace="/fragments/aside">
		</aside>
		<section id="section">
			<div class="sellers">
				<label for="sId">아이디</label>
				<input id="sId" type="text" name="sId" class="form-control">
				<span class="helper-text" id="sId_msg"></span>
			</div>
			<div class="sellers">
				<label for="sPassword">비밀번호</label>
				<input id="sPassword" type="password" name="sPassword" class="form-control">
				<span class="helper-text" id="sPassword_msg"></span>
			</div>
			<button class="btn btn-success" id="login">로그인</button>
	 		<div id="search">
				<a href="/seller/find" id="sFindId">아이디 찾기</a>
				<a href="/seller/find" id="sFindPassword">비밀번호 찾기</a>
			</div>
			
		</section>
	</div>
	<footer id="footer" th:replace="/fragments/footer">
	</footer>
</div>
</body>
</html>